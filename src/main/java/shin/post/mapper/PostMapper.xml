<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="shin.post.mapper.PostMapper">

	<select id="postList" resultType="post">
		select * from post
		order by 1

	</select>

	<select id="postWithPage" resultType="post">
		<![CDATA[
		select b.*
		from (select rownum rn, a.*
			from (select * from post
				order by 1 desc) a
			where rownum <= #{page} * 10 ) b
		where b.rn > (#{page} - 1) * 10
		]]>
	</select>

	<select id="searchPost" resultType="post"
		parameterType="int">
		select * from post where post_id=#{postId}
	</select>

	<select id="getCount" resultType="int">
		select count(*) from post
	</select>
	
	<select id="memberByDept" resultType="map">
	
	select * from post p join member m on p.memberId = m.memberId
	
</select>
	
	
</mapper>
